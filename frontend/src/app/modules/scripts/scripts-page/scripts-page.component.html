<div class="container">
    <div class="main-content" *ngIf="scripts.length > 0">
        <!-- TODO: create custom ListBoxComponent -->
        <div class="scripts-sector">
            <ul cdkListbox [cdkListboxValue]="scripts" (cdkListboxValueChange)="onScriptSelected($event)"
                class="listbox bordered">
                <li *ngFor="let script of scripts" [cdkOption]="script" class="option">
                    <app-script [script]="script"></app-script>
                </li>
            </ul>
        </div>
        <div class="editor-sector">
            <!-- TODO: create custom TextEditorComponent -->
            <textarea class="editor bordered"
                [formControl]="$any(form.controls['scriptContent'])">{{selectedScript?.content}}</textarea>
        </div>
    </div>
    <div class="buttons-sector">
        <app-button variant="outline-primary" text="Create new" (buttonOnClick)="openCreateModal()"></app-button>
        <div class="buttons-container">
            <app-button variant="outline-primary" text="Execute" [isDisabled]="!selectedScript"
                (buttonOnClick)="executeScript()"></app-button>
            <app-button variant="outline-primary" text="Save" [isDisabled]="!selectedScript || !form.dirty"
                (buttonOnClick)="saveScript()"></app-button>
        </div>
    </div>
</div>