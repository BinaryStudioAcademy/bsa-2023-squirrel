<div class="container-background container">
    <div class="searchable-tree-container">
        <input class="filter-input" type="text" (input)="onFilterChange($event)" placeholder="Search..." />
        <div class="mat-tree-container">
            <mat-tree class="container-background" [dataSource]="dataSource" [treeControl]="treeControl">
                <mat-tree-node
                    [ngStyle]="getChildNodeStyles()"
                    *matTreeNodeDef="let node"
                    matTreeNodeToggle
                    matTreeNodePadding>
                    <ng-container *ngIf="asCheckList">
                        <button mat-icon-button disabled></button>
                        <mat-checkbox
                            color="primary"
                            class="checklist-leaf-node"
                            [checked]="checklistSelection.isSelected(node)"
                            (change)="checklistSelection.toggle(node)"
                            >{{ node.item }}</mat-checkbox
                        >
                    </ng-container>
                    <div *ngIf="!asCheckList" [ngStyle]="{ 'margin-left.%': 10 }">
                        {{ node.item }}
                    </div>
                </mat-tree-node>

                <mat-tree-node
                    [ngStyle]="getParentNodeStyles()"
                    *matTreeNodeDef="let node; when: hasChild"
                    matTreeNodePadding>
                    <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'toggle ' + node.filename">
                        <mat-icon class="mat-icon-rtl-mirror">
                            {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}
                        </mat-icon>
                    </button>
                    <ng-container *ngIf="asCheckList">
                        <mat-checkbox
                            color="primary"
                            [checked]="descendantsAllSelected(node)"
                            [indeterminate]="descendantsPartiallySelected(node)"
                            (change)="itemSelectionToggle(node)"
                            >{{ node.item }}</mat-checkbox
                        >
                    </ng-container>
                    <div *ngIf="!asCheckList">
                        {{ node.item }}
                    </div>
                </mat-tree-node>
            </mat-tree>
        </div>
    </div>
    <div class="commit-msg-form">
        <label class="commit-label" for="commit-msg-ta">Commit message</label>
        <textarea id="commit-msg-ta" placeholder="Type your commit message here..." rows="4"></textarea>
    </div>
</div>
